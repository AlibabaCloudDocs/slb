# 什么是应用型负载均衡

应用型负载均衡ALB（Application Load Balancer）是阿里云推出的专门面向HTTP、HTTPS和QUIC等应用层负载场景的负载均衡服务，具备超强弹性及大规模七层流量处理能力。应用型负载均衡具备处理复杂业务路由的能力，与云原生相关服务深度集成，是阿里云官方提供的云原生Ingress网关。

![ALB架构图](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2652361161/p211159.png)

## 应用型负载均衡特性

-   **弹性自动伸缩**

    ALB同时提供域名与VIP，多级分发承载海量请求在可用区间弹性缩放，避免单可用区资源瓶颈允许用户自定义可用区组合，适应原有计算资源的分布。

-   **先进的协议支持**

    ALB支持最先进的应用传输协议QUIC，对音视频、移动互联网应用更加友好，传输速度更快，链路更安全支持GRPC协议，实现海量微服务间的高效API通信。

-   **基于内容的高级路由**

    ALB可基于HTTP标头、Cookie、HTTP方法等各种条件来识别特定业务流量，并将其转发至不同的后端服务，同时还支持重定向、重写甚至是添加用户自定义的HTTP标头等高级操作。

-   **安全加持**

    ALB自带DDoS防护，一键集成WAF，全链路HTTPS满足Zero-Trust安全架构，更支持TLS1.3、国密等最新加密协议，既有系统预制的安全策略，用户也可以自定义。

-   **云原生应用**

    流量拆分、流量镜像等功能用于实现金丝雀发布，在线流量仿真等云原生开发模式，与ACK、SAE和开源K8s深度集成，简单易用，让您更聚焦业务本身。

-   **弹性灵活的计费**

    ALB通过EIP和共享带宽提供公网能力，实现灵活公网计费；同时采用了更先进的、更适合弹性业务峰值的、基于容量单位（LCU）的计价方案。


## 应用型负载均衡ALB类型

阿里云提供公网和私网两种类型的应用型负载均衡服务。您可以根据业务场景选择配置对外公开或对内私有的ALB，系统会根据您的选择来决定是否使用共享带宽和弹性公网IP。

![公网和私网负载均衡实例](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5060761161/p232733.png)

上图中黄色半透明框中所有元素构成一个面向公网（私网）的应用型负载均衡。

-   **共享带宽**

    共享带宽提供地域级的带宽共享和复用能力，以及按带宽计费和按增强型95计费等多种计费模式，可有效节省公网带宽使用成本。公网应用型负载均衡中将使用共享带宽来提供增强型95计费和按带宽计费能力。

-   **域名**

    一个在公网上可解析的域名解析至对应的EIP。您也可以将所拥有的可读性强的域名通过CNAME方式解析到应用型负载均衡的域名上来使用。

-   **EIP**

    应用型负载均衡对公网服务的IP地址，一个公网应用型负载均衡可以有多个EIP。为了实现高可用性，一个公网应用型负载均衡至少应包含两个分布在不同可用区的EIP。您仅在创建公网ALB时需要使用EIP，在创建私网ALB时无需配置。

-   **VIP（Virtual IP address）**

    应用型负载均衡实施流量分发的实体。每个VIP都是专有网络VPC（Virtual Private Cloud）中的一个私网IP地址。


## 应用型负载均衡组成

![负载均衡组成](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7877661161/p232555.png)

应用型负载均衡服务包含以下基本组成部分。

-   **实例**

    面向七层，提供了超强七层负载均衡能力，通过将流量分发到不同的后端服务来扩展应用系统的服务吞吐能力。单实例可处理高达100万QPS。

-   **监听**

    监听是ALB最小业务单元，监听上需要配置协议与端口以告知ALB需要处理什么流量，例如HTTP协议，80端口。每个负载均衡至少有一个监听，才能开始流量处理与分发。每个ALB最多可以配置50个监听，用于处理不同的业务流量。

-   **转发规则**

    确定应用型负载均衡实例如何将请求路由到一个或多个后端服务器组中的后端服务器。ALB具备强大的高级路由能力，在传统的路由规则基础上，还可以基于Cookie、Header和Host等多种规则进行转发，实现基于业务的灵活调度。

-   **服务器组**

    服务器组是一个逻辑组，包含多个后端服务器（ECS实例）用于处理ALB分发的业务请求。ALB中服务器组独立于ALB存在，可以将同一服务器组挂载在不同ALB内。服务器组最大可以包含1000个后端服务器。ALB服务器组支持云ECS、ECI、ENI等多种类型的后端服务器。

-   **健康检查**

    负载均衡通过健康检查来判断后端服务器（ECS实例）的业务可用性。ALB探测服务器组中不健康的服务器组，并避免将流量分发给不健康的服务器组。ALB支持丰富灵活的健康检查配置，如协议、端口、以及各种健康检查阈值。同时ALB提供健康检查模板，可将健康检查模板快速的应用到不同的服务器组。


**相关文档**  


[版本功能对比和使用限制](/cn.zh-CN/应用型负载均衡ALB/版本功能对比和使用限制.md)

[应用型负载均衡产品定价](/cn.zh-CN/应用型负载均衡ALB/应用型负载均衡产品定价.md)

