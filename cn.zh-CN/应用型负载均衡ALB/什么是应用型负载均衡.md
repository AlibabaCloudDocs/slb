# 什么是应用型负载均衡

应用型负载均衡ALB（Application Load Balancer）是阿里云上提供的全托管式在线负载均衡服务，具有即开即用、超大容量、稳定可靠、弹性伸缩和按需付费等特点。本文介绍应用型负载均衡的基础架构、特性和功能。

ALB是阿里云推出的专门面向7层（HTTP、HTTPS或QUIC）的负载均衡服务，提供高性能7层处理能力。ALB具备弹性伸缩能力，单实例每秒查询数QPS（Query Per Second）可达100万次。同时ALB提供基于内容的高级路由特性，例如，基于HTTP报头、Cookie和查询字符串进行路由转发、路由重定向和路由重写。

ALB提供域名与VIP。域名与VIP可以部署在多个可用区，形成多级分发并承载海量请求。区别于传统型负载均衡的主备工作模式（同一时刻仅一个可用区中的负载均衡处于工作状态），ALB在所有可用区同时工作。同时，ALB支持用户自定义的可用区组合，极大提升负载均衡的弹性能力，同时避免了单可用区资源瓶颈。ALB通过弹性公网IP（EIP）和共享带宽提供公网能力，实现灵活公网计费，包括按流量计费、按固定带宽计费和按95带宽计费等。

![ALB架构](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3626978061/p205795.png)

## 功能特性

应用型负载均衡具备以下特性：

-   超强性能与弹性：使用专门优化的DPDK LVS和Intel QuickAssist硬件加解密卡来大幅提升处理性能。应用型负载均衡实例可以采用域名的形式。单实例（单域名）下最高可支持99个VIP来形成多级流量调度。同时，应用型负载均衡具备超强的弹性能力，单实例每秒查询数QPS（Query Per Second）可达100万次。
-   多级容灾保证业务安全可用：应用型负载均衡采用4级容灾架构，包括应用、集群、可用区和地域级别的高可用。同时，应用型负载均衡提供DDoS和WAF扩展防护能力，全链路HTTPS能够满足Zero-Trust安全模型的要求。应用型负载均衡提供达99.99%可用性保障（SLA）。
-   深度集成云原生：ALB与ACK和SAE深度集成。主要面向应用层交付，支持先进的GRPC协议、实现微服务间高效的API通信、基于Header或Cookie的路由能力和金丝雀发布流量拆分。与此同时，流量镜像能力可以支持将在线业务流量复制一份用于仿真业务测试，而基于内容的QPS限速可实现业务熔断等场景的模拟。
-   开箱即用、简单便利：应用型负载均衡秒级开通，有着完善的监控日志和全天免运维，并支持事件告警。

## 公网应用型负载均衡

公网应用型负载均衡架构如下图所示：

![公网应用型负载均衡](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3626978061/p205796.png)

面向公网的应用型负载均衡由多个组件组合而成，上图中蓝色半透明框中所有组件组成一个面向公网的应用型负载均衡。

-   共享带宽：共享带宽提供地域级的带宽共享和复用能力，以及按带宽计费和按增强型95计费等多种计费模式，可有效节省公网带宽使用成本。公网应用型负载均衡中将使用共享带宽来提供增强型95计费和按带宽计费能力。
-   域名：一个在公网上可解析的域名解析至对应的EIP。为了更好的域名可读性，也可以将客户自持有的更加可读的域名通过CNAME方式解析到应用型负载均衡的域名上来方便使用。
-   EIP：应用型负载均衡对公网服务的IP地址。一个公网应用型负载均衡可以有多个EIP。为了实现高可用性，一个公网应用型负载均衡至少应包含两个分布在不同可用区的EIP。您仅在创建公网应用型负载均衡时需要使用EIP，私网应用型负载均衡不需要。
-   VIP（Virtual IP address）：应用型负载均衡实施流量分发的实体。每个VIP都是专有网络VPC（Virtual Private Cloud）中的一个私网IP地址。

## 私网应用型负载均衡

私网应用型负载均衡架构如下图所示：

![私网应用型负载均衡](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3626978061/p205798.png)

与面向公网的应用型负载均衡类似，面向私网的应用型负载均衡也由多个组件组合而成，上图中蓝色半透明框中所有组件组成一个面向私网的应用型负载均衡。

-   域名：一个解析至应用型负载均衡私网VIP的域名。为了更好的域名可读性，也可以将客户自持有的更加可读的域名通过CNAME方式解析到应用型负载均衡的域名上来方便使用。
-   VIP：应用型负载均衡实施流量分发的实体。每个VIP都是专有网络VPC（Virtual Private Cloud）中的一个私网IP地址。

与公网应用型负载均衡不同，私网应用型负载均衡不需要对公网提供服务，因此没有EIP和共享带宽。

## 应用型负载均衡的功能版本

应用型负载均衡提供基础版和标准版。您可以根据业务需求选择适用的应用型负载均衡的功能版本。更多信息，请参见[应用型负载均衡基础版和标准版功能差异](/cn.zh-CN/应用型负载均衡ALB/应用型负载均衡基础版和标准版功能差异.md)。

