---
keyword: [应用型负载均衡, 监听, 访问控制, 访问控制策略, 白名单, 黑名单]
---

# 应用型负载均衡访问控制

您可以在为应用型负载均衡实例配置监听时启用访问控制，通过设置入方向的允许或拒绝规则，对进入监听的流量进行精确控制，管理请求转发。

## 访问控制策略

您可以针对不同的监听设置访问白名单或黑名单：

-   开启白名单：仅转发来自所选访问控制策略组中设置的IP地址或地址段的请求，白名单适用于应用只允许特定IP访问的场景。

    设置白名单存在一定业务风险。一旦设置白名单，就只有白名单中的IP可以访问负载均衡监听。如果开启了白名单访问，但访问策略组中没有添加任何IP，则负载均衡监听不会转发请求。

-   开启黑名单：来自所选访问控制策略组中设置的IP地址或地址段的所有请求都不会转发，黑名单适用于应用只限制某些特定IP访问的场景。

    如果开启了黑名单访问，但访问策略组中没有添加任何IP，则负载均衡监听会转发全部请求。


## 配置流程

监听访问控制配置流程如下图所示：

![配置流程](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5107530161/p211951.png)

访问控制配置流程说明如下：

-   创建访问控制策略组，每个策略组可添加多个IP地址条目或IP地址段条目。具体操作，请参见[创建访问控制策略组](#section_v8b_8bg_uyp)和[添加IP条目](#section_eo7_vdy_36u)。
-   为监听开启访问控制。具体操作，请参见[开启访问控制](#section_wkd_wgi_ked)。
-   如果不需要设置访问控制，可以在监听配置中关闭访问控制。具体操作，请参见[关闭访问控制](#section_wfy_noa_c8m)。

## 创建访问控制策略组

在配置访问控制之前，您需要先配置访问控制策略组。

1.  登录[负载均衡管理控制台](https://slb.console.aliyun.com/slb)。

2.  在左侧导航栏，选择**应用型负载均衡ALB** \> **访问控制**。

3.  在访问控制页面，单击**创建访问控制策略组**。

4.  在**创建访问控制策略组**对话框，完成以下配置，然后单击**确定**。

    |配置|说明|
    |--|--|
    |**策略组名称**|输入策略组名称。长度为2~128个字符，必须以大小写字母或中文开头，可包含数字，英文句点（.），下划线（\_）和短划线（-）。|
    |**所属资源组**|选择一个资源组。|


## 添加IP条目

创建访问控制策略组后，您需要为每个策略组添加IP条目。IP条目是访问应用型负载均衡实例的源IP。每个策略组可包含多个IP地址条目或IP地址段条目。

1.  登录[负载均衡管理控制台](https://slb.console.aliyun.com/slb)。

2.  在左侧导航栏，选择**应用型负载均衡ALB** \> **访问控制**。

3.  单击目标访问控制策略组**操作**列下的**管理访问控制策略组**。

4.  在详情页面，单击**添加条目**或**批量添加条目**。

5.  在添加策略组条目对话框，输入要添加的IP地址条目或IP地址段和备注。

    **说明：** 在批量添加IP条目时注意：

    -   每个条目一行，以回车分隔。
    -   每个条目中IP地址或IP地址段与备注之间用\|分隔，例如192.168.1.0/24\|备注。
6.  单击**添加**。


## 开启访问控制

您可以针对不同的监听设置访问白名单或黑名单。

1.  登录[负载均衡管理控制台](https://slb.console.aliyun.com/slb)。

2.  在左侧导航栏，选择**应用型负载均衡ALB** \> **实例**。

3.  单击需要设置访问控制的实例ID。

4.  单击**监听**页签，然后单击目标监听的**访问控制**列下的**启用**或者**操作**列下的**查看详情**。

5.  打开**监听详情**页签下的**访问控制**开关。

6.  在启动访问控制面板，完成以下配置，然后单击**确定**。

    |配置|说明|
    |--|--|
    |**访问控制方式**|选择一种访问控制方式：    -   **白名单**：仅转发来自所选访问控制策略组中设置的IP地址或地址段的请求。
    -   **黑名单**：来自所选访问控制策略组中设置的IP地址或地址段的所有请求都不会转发。 |
    |**选择访问控制策略组**|选择一个访问控制策略组。|

7.  单击**确定**。


## 关闭访问控制

您可以根据需要，在监听配置中关闭访问控制。

1.  登录[负载均衡管理控制台](https://slb.console.aliyun.com/slb)。

2.  在左侧导航栏，选择**应用型负载均衡ALB** \> **实例**。

3.  单击需要设置访问控制的实例ID。

4.  单击**监听**页签，然后单击目标监听**操作**列下的**查看详情**。

5.  关闭**访问控制**开关，然后单击**确定**。


