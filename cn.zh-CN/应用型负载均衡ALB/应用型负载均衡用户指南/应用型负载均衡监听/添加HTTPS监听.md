---
keyword: [应用型负载均衡实例, 监听, HTTPS, 后端服务器, TLS安全策略, SSL证书]
---

# 添加HTTPS监听

HTTPS协议适用于需要加密传输的应用。您可以创建使用加密连接的HTTPS监听转发来自HTTPS协议的请求。此功能支持在应用型负载均衡实例与启动SSL或TLS会话的客户端之间进行流量加密。

-   您已经创建了应用型负载均衡实例。具体操作，请参见[创建应用型负载均衡实例](/cn.zh-CN/应用型负载均衡ALB/应用型负载均衡用户指南/应用型负载均衡实例/创建应用型负载均衡实例.md)。
-   您已经在应用型负载均衡实例上部署至少一个SSL服务器证书和TLS安全策略。更多信息，请参见[TLS安全策略]()。
-   您已经指定可用的后端服务器，以将转发操作添加到默认的监听规则。具体操作，请参见[t2022054.md\#]()。

## 步骤一：配置监听

完成以下操作，配置HTTPS监听。

1.  登录[负载均衡管理控制台](https://slb.console.aliyun.com/slb)。

2.  在左侧导航栏，选择**应用型负载均衡ALB** \> **实例**。

3.  在实例页面，单击目标实例**操作**列下的**创建监听**。

4.  在负载均衡业务配置向导的配置监听页面，完成以下配置，然后单击**下一步**。。

    |监听配置|说明|
    |:---|:-|
    |**选择负载均衡协议**|选择监听的协议类型。本示例选择**HTTPS**。 |
    |**监听端口**|输入用来接收请求并向后端服务器进行请求转发的监听端口，本示例输入**443**。通常HTTP协议使用80端口，HTTPS协议使用443端口。端口范围为1~65535。

**说明：** 在同一个负载均衡实例内，监听端口不可重复。 |
    |**监听名称**|输入监听名称。长度为2~256个字符，必须是中文和以下字符串中的字符：`/^([^\x00-\xff]|[\w.,;/@-]){2,256}$/`。|
    |**高级配置**|
    |**启用HTTP 2.0**|选择是否开启HTTP 2.0。|
    |**连接空闲超时时间**|指定连接空闲超时时间，取值范围为1~60秒。在超时时间内一直没有访问请求，负载均衡会暂时中断当前连接，直到下一次请求来临时重新建立新的连接。

**说明：** 该功能对使用HTTP/2.0的请求暂不生效。 |
    |**连接请求超时时间**|指定请求超时时间，取值范围为1~180秒。在超时时间内后端服务器一直没有响应，负载均衡将放弃等待，给客户端返回HTTP 504错误码。 |
    |**Gzip数据压缩**|开启该配置对特定文件类型进行压缩。目前Gzip支持压缩的类型包括：`text/xml`、`text/plain`、`text/css`、`application/javascript`、`application/x-javascript`、`application/rss+xml`、`application/atom+xml`和`application/xml`。 |
    |**附加HTTP头字段**|选择您要添加的自定义HTTP header字段：    -   添加`X-Forwarded-For`头字段获取来访者真实IP。
    -   添加`SLB-ID`头字段获取负载均衡实例的ID。
    -   添加`X-Forwarded-Proto`头字段获取实例的监听协议。
    -   添加`X-Forwarded-Clientcert-subjectdn`头字段获取访问负载均衡实例客户端证书的所有者信息。
    -   添加`X-Forwarded-Clientcert-issuerdn`头字段获取访问负载均衡实例客户端证书的所发行者信息。
    -   添加`X-Forwarded-Clientcert-fingerprint`头字段获取访问负载均衡实例客户端证书的指纹取值。
    -   添加`X-Forwarded-Clientcert-clientverify`头字段获取访问负载均衡实例客户端证书的校验结果。
    -   添加`X-Forwarded-Port`头字段获取实例的监听端口。
    -   添加`X-Forwarded-Client-Port`头字段获取访问负载均衡实例客户端的端口。 |
    |**开启QUIC升级**|选择是否开启QUIC升级。|
    |**关联的GUIC监听**|选择一个关联的QUIC监听。**说明：** 该参数仅在开启**开启QUIC升级**开关后生效。 |


## 步骤二：配置SSL证书

配置SSL证书以确保您的业务受到加密保护并得到权威机构的身份认证。

在配置SSL证书页面，完成以下配置，然后单击**下一步**。

|配置|说明|
|--|--|
|**选择服务器证书**|选择一个SSL服务器证书。应用型负载均衡实例使用SSL服务器证书终止前端连接，再解密来自客户端的请求，然后将请求发送到后端服务器。更多信息，请参见[SSL证书](https://help.aliyun.com/product/28533.html?spm=5176.15089375.J_5834642020.5.55471232xeoliy)。|
|**TLS安全策略**|选择一个TLS安全策略。TLS安全策略包含HTTPS可选的TLS协议版本和配套的加密算法套件。更多信息，请参见[TLS安全策略]()。|

## 步骤三：选择服务器组

在选择服务器组页面，从**选择服务器组**列表中，选择一个后端服务器组，查看后端服务器信息，然后单击**下一步**。

## 步骤四：配置审核

在配置审核页面，确认配置信息，单击**提交**。

