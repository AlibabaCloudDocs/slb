# 共享实例带宽

负载均衡支持按带宽计费的负载均衡实例下的所有监听共享实例的总带宽。

在创建监听时，您可以设置带宽峰值也可以选择不设置。

-   配置：您可以对监听的带宽进行限制，但所有监听带宽峰值的总和不能超过实例的带宽峰值。
-   不限制：不限制带宽的情况下，实例下的监听共享实例带宽。

## 如何共享带宽？

假如您购买了一个带宽峰值为10 MB的负载均衡实例，并在该实例下创建了三个监听（监听A、监听B和监听C）。监听A的带宽峰值设置为4 MB，另外两个监听没有设置带宽峰值。三个监听的带宽使用可能出现如下几种情况：

-   如果监听A和监听C一直没有出流量，那么监听B最多也只能跑满剩余的6 MB带宽（10 MB-4 MB\)。
-   如果监听C一直没有出流量，而监听B的出流量很大，超过了剩余的6 MB带宽。此时，监听B已经产生丢包，而监听A只有4 MB的出流量，没有超过设置的带宽峰值，所以不会产生丢包。
-   如果监听A一直是满速在跑（监听峰值4 MB），而后监听B和监听C也有出流量并且两个监听的流量很大，那么监听B和监听C就会共享（竞争）剩余的6 MB带宽。此时，监听A的流量不会受监听B和监听C的影响，始终能达到预留的4 MB峰值；如果监听B和监听C出流量同等大小，两个监听占用的带宽去会趋近于均分。

因此，对监听带宽的限制值是资源预留，这是为了保证核心的业务始终有足够的带宽。非核心的业务可以不设置监听带宽值，它们竞争实例剩余的带宽资源。

